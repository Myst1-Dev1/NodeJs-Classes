{"level":"info","message":"Media server running on port 3004","service":"media-service","timestamp":"2025-09-04T02:02:43.597Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:02:44.024Z"}
{"level":"info","message":"Media server running on port 3004","service":"media-service","timestamp":"2025-09-04T02:03:26.915Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:03:27.441Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:03:39.951Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:03:40.300Z"}
{"level":"error","message":"Error: It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.\n    at helmet (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\helmet\\index.cjs:516:10)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\index.js:342:13)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\index.js:297:9\n    at processParams (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\index.js:291:5)\n    at cors (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\cors\\lib\\index.js:188:7)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\cors\\lib\\index.js:214:15)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\cors\\lib\\index.js:219:13","service":"media-service","timestamp":"2025-09-04T02:17:18.252Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:17:51.051Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:17:51.675Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:17:51.677Z"}
{"level":"error","message":"Unknown error ocurred while uploading: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\src\\routes\\media-routes.js:19:5\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\src\\middlewares\\auth-middleware.js:15:5)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-09-04T02:17:51.684Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:17:51.907Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:18:20.394Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:18:20.395Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:18:20.401Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:18:26.219Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:18:26.219Z"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"teste","level":"error","message":"Unexpected field","name":"MulterError","service":"media-service","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:18:26.223Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:20:08.221Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:20:08.600Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:20:25.768Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:20:26.072Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:20:35.839Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:20:36.134Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:21:13.958Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:21:13.958Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:21:13.967Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:22:08.710Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:22:09.130Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:22:11.811Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:22:11.812Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:22:11.821Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:23:15.315Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:23:15.316Z"}
{"code":"MISSING_FIELD_NAME","level":"error","message":"Field name missing","name":"MulterError","service":"media-service","stack":"MulterError: Field name missing\n    at abortWithCode (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:85:22)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:113:37)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:23:15.318Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:24:22.143Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:24:22.144Z"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"teste","level":"error","message":"Unexpected field","name":"MulterError","service":"media-service","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-09-04T02:24:22.146Z"}
{"level":"info","message":"Received POST request to /api/media/upload","service":"media-service","timestamp":"2025-09-04T02:25:37.644Z"}
{"level":"info","message":"Request body, undefined","service":"media-service","timestamp":"2025-09-04T02:25:37.645Z"}
{"level":"info","message":"Starting media upload","service":"media-service","timestamp":"2025-09-04T02:25:37.648Z"}
{"level":"info","message":"File details: name=tsthaspassed.png, type:image/png","service":"media-service","timestamp":"2025-09-04T02:25:37.651Z"}
{"level":"info","message":"Uploading to cloudinary starting","service":"media-service","timestamp":"2025-09-04T02:25:37.653Z"}
{"level":"info","message":"Cloudinary upload successfull. Public id - qmu0ymoqjgjfuw4ekoli","service":"media-service","timestamp":"2025-09-04T02:25:39.011Z"}
{"level":"info","message":"Media server running on port 3003","service":"media-service","timestamp":"2025-09-04T02:25:58.129Z"}
{"level":"info","message":"Connected to mongodb","service":"media-service","timestamp":"2025-09-04T02:25:58.560Z"}
