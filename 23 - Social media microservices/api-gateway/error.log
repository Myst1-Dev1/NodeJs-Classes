{"level":"error","message":"Proxy error: res is not defined","service":"api-gateway","timestamp":"2025-06-19T19:09:12.340Z"}
{"level":"error","message":"Proxy error: ","service":"api-gateway","timestamp":"2025-06-19T19:11:57.524Z"}
{"level":"error","message":"Proxy error: ","service":"api-gateway","timestamp":"2025-06-19T19:12:28.003Z"}
{"code":"ECONNREFUSED","level":"error","message":"Proxy error:","service":"api-gateway","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1139:18)\n    at afterConnectMultiple (node:net:1712:7)","timestamp":"2025-06-19T19:13:41.277Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:250:15)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:20:29\n    at module.exports [as verify] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\jsonwebtoken\\verify.js:60:12)\n    at validateToken (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:17:9)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:342:13)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:297:9","service":"api-gateway","timestamp":"2025-09-03T01:43:04.333Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'userId')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:78:57)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03T01:57:10.432Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:250:15)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:20:29\n    at module.exports [as verify] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\jsonwebtoken\\verify.js:60:12)\n    at validateToken (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:17:9)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:342:13)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:297:9","service":"api-gateway","timestamp":"2025-09-03T22:51:43.665Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'userId')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:78:57)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03T22:57:53.985Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express\\lib\\response.js:250:15)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:20:29\n    at module.exports [as verify] (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\jsonwebtoken\\verify.js:60:12)\n    at validateToken (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\middleware\\authMiddleware.js:17:9)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:342:13)\n    at D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\router\\index.js:297:9","service":"api-gateway","timestamp":"2025-09-03T23:06:32.190Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'startsWith')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:95:44)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-04T02:12:17.994Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'startsWith')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:95:44)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-04T02:13:33.835Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'startsWith')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:95:44)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-04T02:13:55.654Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'startsWith')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:95:44)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-04T02:14:02.657Z"}
{"level":"error","message":"Proxy error: Cannot read properties of undefined (reading 'userId')","service":"api-gateway","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at proxyReqOptDecorator (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\src\\server.js:78:57)\n    at decorateProxyReqOpt (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\api-gateway\\node_modules\\express-http-proxy\\app\\steps\\decorateProxyReqOpts.js:13:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-04T02:30:29.830Z"}
