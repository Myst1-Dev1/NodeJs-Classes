{"level":"info","message":"Identity server running on port 3002","service":"post-service","timestamp":"2025-09-02T23:58:57.719Z"}
{"code":"ENOTFOUND","hostname":"_mongodb._tcp.cluster0.qzwmnoh.mongodb.net","level":"error","message":"Mongo connection error querySrv ENOTFOUND _mongodb._tcp.cluster0.qzwmnoh.mongodb.net","service":"post-service","stack":"Error: querySrv ENOTFOUND _mongodb._tcp.cluster0.qzwmnoh.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:293:17)","syscall":"querySrv","timestamp":"2025-09-02T23:58:57.749Z"}
{"level":"info","message":"Identity server running on port 3002","service":"post-service","timestamp":"2025-09-03T01:21:38.317Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-09-03T01:21:38.786Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:44:03.862Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:44:03.863Z"}
{"_message":"Post validation failed","errors":{"content":{"kind":"required","message":"Path `content` is required.","name":"ValidatorError","path":"content","properties":{"message":"Path `content` is required.","path":"content","type":"required"}},"mediaIds":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","name":"CastError","path":"mediaIds","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"Error creating post Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\", content: Path `content` is required.","service":"post-service","stack":"ValidationError: Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\", content: Path `content` is required.\n    at Document.invalidate (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at createPost (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\src\\controllers\\post-controller.js:9:34)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:117:3)","timestamp":"2025-09-03T01:44:03.875Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:44:14.083Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:44:14.084Z"}
{"_message":"Post validation failed","errors":{"content":{"kind":"required","message":"Path `content` is required.","name":"ValidatorError","path":"content","properties":{"message":"Path `content` is required.","path":"content","type":"required"}},"mediaIds":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","name":"CastError","path":"mediaIds","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"Error creating post Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\", content: Path `content` is required.","service":"post-service","stack":"ValidationError: Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\", content: Path `content` is required.\n    at Document.invalidate (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at createPost (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\src\\controllers\\post-controller.js:9:34)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:117:3)","timestamp":"2025-09-03T01:44:14.088Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:47:48.936Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:47:48.937Z"}
{"_message":"Post validation failed","errors":{"mediaIds":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","name":"CastError","path":"mediaIds","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"Error creating post Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","service":"post-service","stack":"ValidationError: Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"\n    at Document.invalidate (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at createPost (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\src\\controllers\\post-controller.js:9:34)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:117:3)","timestamp":"2025-09-03T01:47:48.940Z"}
{"level":"info","message":"Identity server running on port 3002","service":"post-service","timestamp":"2025-09-03T01:52:52.359Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-09-03T01:52:52.820Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:53:21.482Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:53:21.483Z"}
{"level":"info","message":"Create Post endpoint hit...","service":"post-service","timestamp":"2025-09-03T01:53:21.485Z"}
{"0":"\"","1":"c","10":"i","11":"s","12":" ","13":"r","14":"e","15":"q","16":"u","17":"i","18":"r","19":"e","2":"o","20":"d","3":"n","4":"t","5":"e","6":"n","7":"t","8":"\"","9":" ","level":"warn","message":"Validation error","service":"post-service","timestamp":"2025-09-03T01:53:21.491Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:53:54.950Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:53:54.950Z"}
{"level":"info","message":"Create Post endpoint hit...","service":"post-service","timestamp":"2025-09-03T01:53:54.952Z"}
{"_message":"Post validation failed","errors":{"mediaIds":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","name":"CastError","path":"mediaIds","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"Error creating post Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"","service":"post-service","stack":"ValidationError: Post validation failed: mediaIds: Cast to string failed for value \"[]\" (type Array) at path \"mediaIds\"\n    at Document.invalidate (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at createPost (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\src\\controllers\\post-controller.js:20:34)\n    at Layer.handleRequest (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\Estudo-aulas\\Nodejs-t\\23 - Social media microservices\\post-service\\node_modules\\router\\lib\\route.js:117:3)","timestamp":"2025-09-03T01:53:54.966Z"}
{"level":"info","message":"Identity server running on port 3002","service":"post-service","timestamp":"2025-09-03T01:56:00.315Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-09-03T01:56:00.792Z"}
{"level":"info","message":"Received POST request to /api/posts/create-post","service":"post-service","timestamp":"2025-09-03T01:56:06.348Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-09-03T01:56:06.348Z"}
{"level":"info","message":"Create Post endpoint hit...","service":"post-service","timestamp":"2025-09-03T01:56:06.350Z"}
{"$__":{"$versionError":null,"activePaths":{"paths":{"content":"require","user":"require"},"states":{"default":{},"modify":{},"require":{"content":true,"user":true}}},"backup":{"activePaths":{"default":{"_id":true,"createdAt":true},"modify":{"content":true,"mediaIds":true,"updatedAt":true,"user":true}},"validationError":null},"cachedRequired":{},"inserting":true,"op":null,"pathsToScopes":{"mediaIds":{"__v":0,"_id":"68b7a036c432d4a7a102dc4e","content":"Hello world","createdAt":"2025-09-03T01:56:00.054Z","mediaIds":[],"updatedAt":"2025-09-03T01:56:00.054Z","user":"68547172e4806180a68b82d1"}},"saveOptions":null,"savedState":{},"saving":null,"validating":null},"$isNew":false,"_doc":{"__v":0,"_id":"68b7a036c432d4a7a102dc4e","content":"Hello world","createdAt":"2025-09-03T01:56:00.054Z","mediaIds":[],"updatedAt":"2025-09-03T01:56:00.054Z","user":"68547172e4806180a68b82d1"},"level":"info","message":"Post created successfully","service":"post-service","timestamp":"2025-09-03T01:56:06.397Z"}
